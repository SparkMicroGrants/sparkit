<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<!-- Visit Report Forms - Base (Not actually used)-->
  		<record model="ir.ui.view" id="visit_report_form_view">
  			<field name="name">visitreport.form</field>
  			<field name="model">sparkit.vrf</field>
  			<field name="arch" type="xml">
  				<form string="Visit Report Form">
  					<sheet>
  						<group colspan="4" col="4" string="Information" class="no_style">
  							<group colspan="2">
  								<field name="community_id"
  									options="{'no_create': True}"/>
									<field name="facilitator_id" options="{'no_create': True}"/>
									<field name="co_facilitator_id" options="{'no_create': True}"/>
									<field name="program_manager_id" options="{'no_create': True}"/>
  							</group>
  							<group colspan="2">
  								<field name="visit_date"/>
  								<field name="phase"/>
									<field name="phase_name" invisible="1"/>
									<field name="state"/>
									<field name="state_name" invisible="1"/>
									<field name="form_type" invisible="1"/>
									<field name="visit_date_week" invisible="1"/>
  							</group>
  						</group>
  						<notebook>
  							<page string="Form">
								<group colspan="4" col="4" string="Attendance and Speaker Information" class="no_style">
									<group colspan="2">
										<field name="attendance_females" />
										<field name="attendance_males" />
										<field name="attendance_total" />
										<field name="attendance_female_leaders"/>
										<field name="attendance_male_leaders"/>
										<field name="attendance_first_time"/>
										<field name="number_members_showing_leadership"/>
									</group>
									<group colspan="2">
										<field name="speakers_female" />
										<field name="speakers_male" />
										<field name="speakers_total" />
										<field name="speakers_first_time" />
									</group>
									<!--     MARGINAL GROUP TRACKING START  -->
									<seperator/>
									<group colspan="4" col="4" class="no_style">
										<group colspan="2">
											<field name="attendance_type1_id" widget="selection"/>
											<field name="attendance1_total"/>
											<field name="attendance_type2_id" widget="selection"/>
											<field name="attendance2_total"/>
											<field name="attendance_type3_id" widget="selection"/>
											<field name="attendance3_total"/>
											<field name="attendance_type4_id" widget="selection"/>
											<field name="attendance4_total"/>
										</group>
										<group colspan="2">
											<field name="speakers_type1_id" widget="selection"/>
											<field name="speakers1_total"/>
											<field name="speakers_type2_id" widget="selection"/>
											<field name="speakers2_total"/>
											<field name="speakers_type3_id" widget="selection"/>
											<field name="speakers3_total"/>
											<field name="speakers_type4_id" widget="selection"/>
											<field name="speakers4_total"/>
										</group>
									</group>
									<!-- MARGINAL GROUP TRACKING END  -->
								</group>
								<group colspan="4" col="4" string="Meeting Report" class="no_style">
									<group colspan="2">
										<field name="activity1_id" widget="selection"
											domain="[('step_id.name', '=', state_name)]"/>
										<field name="activity1_accomplished"/>
										<field name="activity1_desc"/>
										<field name="activity2_id" widget="selection"
											domain="[('step_id.name', '=', state_name)]"/>
										<field name="activity2_accomplished"/>
										<field name="activity2_desc"/>
										<field name="activity3_id" widget="selection"
											domain="[('step_id.name', '=', state_name)]"/>
										<field name="activity3_accomplished"/>
										<field name="activity3_desc"/>
										<field name="meeting_duration"/>
										<field name="travel_duration"/>
									</group>
									<group colspan="2">
										<field name="meeting_started_on_time"/>
										<field name="meeting_started_on_time_desc"/>
										<field name="cmty_set_agenda"/>
										<field name="conflicts_in_meeting"/>
										<field name="conflicts_in_meeting_resolved"/>
										<field name="conflicts_in_meeting_desc"/>
									</group>
								</group>
								<group colspan="4" col="4" string="Accountability and Transparency"  class="no_style" attrs="{'invisible': [('phase', '!=', 'post_implementation'), ('phase', '!=', 'implementation')]}">
									<group colspan="2">
										<field name="project_on_budget"/>
										<field name="cmty_meeting_deadines"/>
										<field name="leadership_presented_cashbook"/>
										<field name="leadership_presented_cashbook_desc"/>
										<field name="leadership_reported_finances"/>
										<field name="leadership_reported_finances_desc"/>
										<field name="leadership_presented_bankslips"/>
										<field name="leadership_presented_bankslips_desc"/>
										<field name="bank_deposits"/>
										<field name="all_receipts_present"/>
										<field name="all_receipts_present_desc"/>
										<field name="any_new_risks" attrs="{'invisible': [('phase', '!=', 'post_implementation')]}"/>
										<field name="any_new_risks_desc" attrs="{'invisible': [('phase', '!=', 'post_implementation')]}"/>
									</group>
									<group colspan="2">
										<field name="cmty_discussed_budget"/>
										<field name="cmty_discussed_budget_desc"/>
										<field name="knowledge_of_community_funds"/>
										<field name="knowledge_of_community_funds_desc"/>
										<field name="cashbook_updated"/>
										<field name="cashbook_updated_desc"/>
										<field name="noncommittee_cashbook_review"/>
										<field name="noncommittee_cashbook_review_desc"/>
										<field name="records_updated" attrs="{'invisible': [('phase', '!=', 'post_implementation')]}"/>
										<field name="records_updated_desc" attrs="{'invisible': [('phase', '!=', 'post_implementation')]}"/>
									</group>
								</group>
								<group colspan="4" col="4" string="Community Report" class="no_style">
									<group colspan="2">
										<field name="homework_type" attrs="{'invisible': [('phase', '!=', 'planning')]}"/>
										<field name="homework_attempted_completed" attrs="{'invisible': [('phase', '!=', 'planning')]}"/>
										<field name="homework_desc" attrs="{'invisible': [('phase', '!=', 'planning')]}"/>
										<field name="cmty_meeting_frequency" attrs="{'invisible': [('phase', '!=', 'post_implementation')]}"/>
										<field name="cmty_reported_conflicts"/>
										<field name="cmty_reported_conflicts_resolved"/>
										<field name="cmty_reported_conflicts_desc"/>
									</group>
								</group>
								<group colspan="4" col="2">
									<field name="community_highlights"/>
								</group>
								<group colspan="4" col="4" string="Next Meeting" class="no_style">
									<group colspan="2">
										<!--TODO: Fix Domains-->
										<field name="next_visit_date" />
										<field name="next_meeting_activity1_id" widget="selection"
											domain="[('step_id.name', '=', state_name)]"/>
										<field name="next_meeting_activity2_id" widget="selection"
											domain="[('step_id.name', '=', state_name)]"/>
									</group>
									<group colspan="2">
										<field name="next_meeting_activity3_id" widget="selection"
											domain="[('step_id.name', '=', state_name)]"/>
									</group>
								</group>
							</page>
							<page string="Ind. Meetings">
								<field name="independent_meeting_ids" nolabel="1"
									context="{'default_community_id': community_id, 'default_date': visit_date}"/>
							</page>
							<page string="Ind. Project Updates">
								<field name="independent_project_update_ids" nolabel="1"
									context="{'default_community_id': community_id, 'default_date': visit_date}"/>
							</page>
							<page string="Savings Group Updates">
								<field name="savings_group_update_ids"
									context="{'default_community_id': community_id, 'default_date': visit_date}"/>
							</page>
							<page string="Project Support Initiatives">
								<field name="project_support_initiative_ids"
									context="{'default_community_id': community_id, 'default_date': visit_date}"
									domain="[('community_id', '=', community_id)]"/>
							</page>
							<page string="Advocacy Updates">
								<field name="partnership_update_ids"
									context="{'default_community_id': community_id, 'default_date': visit_date}"
									domain="[('community_id', '=', community_id)]"/>
							</page>
							<page string="Pilot Updates">
								<field name="pilot_update_ids"
									context="{'default_community_id': community_id, 'default_date': visit_date}"
									domain="[('community_id', '=', community_id)]"/>
							</page>
  						</notebook>
  					</sheet>
						<div class="oe_chatter">
							<field name="message_follower_ids" widget="mail_followers"/>
							<field name="message_ids" widget="mail_thread"/>
						</div>
  				</form>
  			</field>
  		</record>

  		<!--All VRFs List View -->
  		<record model="ir.ui.view" id="visit_report_tree">
  			<field name="name">visitreport.tree</field>
  			<field name="model">sparkit.vrf</field>
  			<field name="arch" type="xml">
  				<tree string="Visit Report Forms">
  					<field name="community_id" />
  					<field name="facilitator_id" />
						<field name="phase"/>
						<field name="state"/>
						<field name="visit_date"/>
						<field name="next_visit_date"/>
  				</tree>
  			</field>
  		</record>

  		<!--All Visit Report Form Actions-->
  		<record model="ir.actions.act_window" id="visit_report_list_action">
  			<field name="name">Visit Report Forms</field>
  			<field name="res_model">sparkit.vrf</field>
  			<field name="view_type">form</field>
  			<field name="view_mode">tree,form</field>
  			<field name="help" type="html">
  				<p class="oe_view_nocontent_create">Create the first VRF!</p>
  			</field>
  		</record>



  		<!-- Groups List View-->
  		<record model="ir.ui.view" id="grouptracking_tree">
  			<field name="name">grouptracking.tree</field>
  			<field name="model">sparkit.grouptracking</field>
  			<field name="arch" type="xml">
  				<tree string="Groups" editable="bottom">
  					<field name="name"/>
  				</tree>
  			</field>
  		</record>

  		<!--Groups Form Actions-->
  		<record model="ir.actions.act_window" id="grouptracking_list_action">
  			<field name="name">Groups</field>
  			<field name="res_model">sparkit.grouptracking</field>
  			<field name="view_type">form</field>
  			<field name="view_mode">tree,form</field>
  			<field name="help" type="html">
  				<p class="oe_view_nocontent_create">Create the first groups!</p>
  			</field>
  		</record>

  		<!--Independent Meetings List View-->
  		<record model="ir.ui.view" id="independent_meetings_tree">
  			<field name="name">independentmeetings.tree</field>
  			<field name="model">sparkit.independentmeeting</field>
  			<field name="arch" type="xml">
  				<tree string="Independent Meetings" editable="bottom">
  					<field name="community_id" readonly="1"/>
  					<field name="date"/>
  					<field name="attendance"/>
  					<field name="duration"/>
  					<field name="duration_minutes" readonly="1"/>
  				</tree>
  			</field>
  		</record>

  		<!--Ind Meeting Form Actions-->
  		<record model="ir.actions.act_window" id="independent_meeting_list_action">
  			<field name="name">Independent Meetings</field>
  			<field name="res_model">sparkit.independentmeeting</field>
  			<field name="view_type">form</field>
  			<field name="view_mode">tree,form</field>
  			<field name="help" type="html">
  				<p class="oe_view_nocontent_create">Create the first groups!</p>
  			</field>
  		</record>
    </data>
</openerp>
